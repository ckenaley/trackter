<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot output from kin functions — gg.overlay • trackter</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plot output from kin functions — gg.overlay"><meta property="og:description" content="Plots data output from one of trackter's kin functions using ggplot2. Useful for quickly visualizing results from kin functions. Data and geometries include body-contour polygons with midline points, head or fin points, both midline and head points, or none or all of these. Optionally builds and saves an animation of data with reference to frame from kin data."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">trackter</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/image_analysis.html">Image Analysis</a>
    </li>
    <li>
      <a href="../articles/kinematic_analysis.html">Kinematic Analysis</a>
    </li>
    <li>
      <a href="../articles/startup.html">Starting Up</a>
    </li>
    <li>
      <a href="../articles/visualization.html">Visualization</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot output from <code>kin</code> functions</h1>
    
    <div class="hidden name"><code>gg.overlay.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Plots data output from one of <code>trackter</code>'s <code>kin</code> functions using <code>ggplot2</code>. Useful for quickly visualizing results from <code>kin</code> functions. Data and geometries include body-contour polygons with midline points, head or fin points, both midline and head points, or none or all of these. Optionally builds and saves an animation of data with reference to frame from <code>kin</code> data.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">gg.overlay</span><span class="op">(</span>
  kin <span class="op">=</span> <span class="cn">NULL</span>,
  frames <span class="op">=</span> <span class="cn">NULL</span>,
  under <span class="op">=</span> <span class="st">"cont"</span>,
  over <span class="op">=</span> <span class="st">"midline"</span>,
  zoom <span class="op">=</span> <span class="cn">FALSE</span>,
  animate <span class="op">=</span> <span class="cn">FALSE</span>,
  shadow <span class="op">=</span> <span class="cn">TRUE</span>,
  alpha <span class="op">=</span> <span class="fl">0.1</span>,
  fps <span class="op">=</span> <span class="fl">10</span>,
  save <span class="op">=</span> <span class="cn">FALSE</span>,
  filename <span class="op">=</span> <span class="cn">NULL</span>,
  out.dir <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>kin</dt>
<dd><p>a list of data returned from <code>kin</code> functions. See Details.</p></dd>
<dt>frames</dt>
<dd><p>integer, a vector for frames within the data (a column common to all <code>kin</code> functions' output). Will subset the data or, if NULL, will not. If more than one frame is specified, plot will be faceted by frame with <code>facet_wrap</code> or animated across frames.</p></dd>
<dt>under</dt>
<dd><p>character, the data to plot under <code>over</code>, the contour(s) from <code>kin</code> functions, i.e, 'cont' or 'cont.sm'. See Details.</p></dd>
<dt>over</dt>
<dd><p>character, the data to plot over the contour(s). Must be either 'kin.dat', 'midline', 'both', 'fin', 'fin.pt', 'all', or 'none'. See Details.</p></dd>
<dt>zoom</dt>
<dd><p>logical, should the plotted area zoom to the extents of the contours. See Detail.</p></dd>
<dt>animate</dt>
<dd><p>logical, should an animation be plotted to the graphics device with state changes reflected by <code>frame</code>.</p></dd>
<dt>shadow</dt>
<dd><p>logical,should <code>shadow_mark</code> be implemented to draw geometries in previous frames. Ignored if <code>animate=FALSE</code>.</p></dd>
<dt>alpha</dt>
<dd><p>numeric, the opacity of geometries in previous frames during animation. Ignored if <code>animate=FALSE</code>.</p></dd>
<dt>fps</dt>
<dd><p>integer, the play back speed of animation in frames per second. Ignored if <code>animate=FALSE</code>.</p></dd>
<dt>save</dt>
<dd><p>logical, should the animation be saved as a GIF. Ignored if <code>animate=FALSE</code>. See Details.</p></dd>
<dt>filename</dt>
<dd><p>character, the name given to the GIF file. Ignored if <code>animate=FALSE</code> or <code>save=FALSE</code>.</p></dd>
<dt>out.dir</dt>
<dd><p>character, the file path of the directory to which the GIF file is saved. Ignored if <code>animate=FALSE</code> or <code>save=FALSE</code>.</p></dd>
<dt>...</dt>
<dd><p>other arguments to be passed to midline and head point geometries, e.g. 'size', 'color'.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A <code>ggplot</code> printed to the graphics device, a <code>gganimate</code> object plotted to graphics device, or a GIF file saved to a local directory specified in <code>out.dir</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Simply plots 2D dimensional data over contours retrieved from <code>kin</code> functions. May be useful in quickly assesses their results. The <code>under</code> layer can be one of the named contour data tables in lists returned by the <code>kin</code> functions <code><a href="kin.search.html">kin.search</a></code>,<code><a href="kin.search.html">kin.simple</a></code>, <code><a href="kin.search.html">kin.free</a></code>, or <code><a href="fin.kin.html">fin.kin</a></code>. The overlayed data layer specified by <code>over</code> are non-contour data from the <code>kin</code> functions.</p>
<p>If the list specified by 'kin' is from <code><a href="kin.search.html">kin.search</a></code>,<code><a href="kin.search.html">kin.simple</a></code>, or  <code><a href="kin.search.html">kin.free</a></code>, 'over' must be 'cont' or 'cont.sm' and under one of 'midline','kin', 'none' or 'both'. 'midline' will produce the smoothed midline coordinates.</p>
<p>If the list specified by 'kin' is from <code><a href="fin.kin.html">fin.kin</a></code>, 'over' must be 'cont' or 'comp' and under one of 'midline','fin', 'fin.pts', 'none' or 'all'.</p>

<p>Animations are produced with <code>gganimate</code> and optionally saved as a GIF with <code>anim_save</code> using the default <code>gifski_renderer()</code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/ggplot2/man/geom_point.html" class="external-link">geom_point</a></code>, <code><a href="https://rdrr.io/pkg/ggplot2/man/geom_polygon.html" class="external-link">geom_polygon</a></code>,<code>gganimate</code>, <code><a href="kin.search.html">kin.free</a></code>, <code><a href="kin.search.html">kin.search</a></code>, <code><a href="kin.search.html">kin.simple</a></code>,<code><a href="fin.kin.html">fin.kin</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co">#animate a ropefish swimming with its midline</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#download example avi and place in subdirectory</span></span>
<span class="r-in"><span class="va">f</span> <span class="op">&lt;-</span> <span class="st">"https://github.com/ckenaley/exampledata/blob/master/ropefish.avi?raw=true"</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span><span class="va">f</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/ropefish.avi"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/images"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="vid.to.images.html">vid.to.images</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/ropefish.avi"</span><span class="op">)</span>, out.dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/images"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">kin</span> <span class="op">&lt;-</span> <span class="fu"><a href="kin.search.html">kin.free</a></span><span class="op">(</span>image.dir <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/images"</span><span class="op">)</span>,</span>
<span class="r-in">par<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span class="r-in">      ml.smooth<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"spline"</span>,<span class="fl">0.9</span><span class="op">)</span>,</span>
<span class="r-in">      thr <span class="op">=</span> <span class="st">"otsu"</span>,</span>
<span class="r-in">      size.min<span class="op">=</span><span class="fl">0.01</span>,</span>
<span class="r-in">      red<span class="op">=</span><span class="fl">0.5</span></span>
<span class="r-in">      <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">gg.overlay</span><span class="op">(</span>kin<span class="op">=</span><span class="va">kin</span>,</span>
<span class="r-in">frames<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fl">320</span>,<span class="fl">20</span><span class="op">)</span>,</span>
<span class="r-in">under<span class="op">=</span><span class="st">"cont.sm"</span>,</span>
<span class="r-in">over<span class="op">=</span><span class="st">"midline"</span>,</span>
<span class="r-in">size<span class="op">=</span><span class="fl">1</span>,</span>
<span class="r-in">animate<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span class="r-in">col<span class="op">=</span><span class="st">"red"</span>,</span>
<span class="r-in">fps<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#clean up </span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/images"</span><span class="op">)</span>,recursive<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Christopher Kenaley.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

