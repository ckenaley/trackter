<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Tracking of fin-like extensions of body contours — fin.kin • trackter</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Tracking of fin-like extensions of body contours — fin.kin"><meta property="og:description" content="Estimates the amplitudes of regions along a body contour that are protruding. Useful in computing paired-fin amplitudes from contour data produced from  kin.simple, kin.search, or kin.free. Also computes a smoothed midline based on the body outline with the fin region removed."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">trackter</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/image_analysis.html">Image Analysis</a>
    </li>
    <li>
      <a href="../articles/kinematic_analysis.html">Kinematic Analysis</a>
    </li>
    <li>
      <a href="../articles/startup.html">Starting Up</a>
    </li>
    <li>
      <a href="../articles/visualization.html">Visualization</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Tracking of fin-like extensions of body contours</h1>
    
    <div class="hidden name"><code>fin.kin.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Estimates the amplitudes of regions along a body contour that are protruding. Useful in computing paired-fin amplitudes from contour data produced from  <a href="kin.search.html">kin.simple</a>, <a href="kin.search.html">kin.search</a>, or <a href="kin.search.html">kin.free</a>. Also computes a smoothed midline based on the body outline with the fin region removed.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">fin.kin</span><span class="op">(</span>
  <span class="va">kin</span>,
  out <span class="op">=</span> <span class="st">"cont"</span>,
  frames <span class="op">=</span> <span class="cn">NULL</span>,
  fin.pos <span class="op">=</span> <span class="cn">NULL</span>,
  smooth.n <span class="op">=</span> <span class="fl">5</span>,
  ml.meth <span class="op">=</span> <span class="st">"hull"</span>,
  ml.smooth <span class="op">=</span> <span class="fl">0.9</span>,
  red <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>kin, </dt>
<dd><p>a named list from one of <code>trackter</code>s <code>kin</code> functions.</p></dd>
<dt>out</dt>
<dd><p>character, specifying the contour data in 'kin'</p></dd>
<dt>frames</dt>
<dd><p>integer, the frames within 'kin' to analyze. If NULL then all frames are included.</p></dd>
<dt>fin.pos</dt>
<dd><p>numeric, a vector of length 2 indicating the start and end of the contour region that contains the fins of interest as a proportion of the body length.</p></dd>
<dt>smooth.n</dt>
<dd><p>numeric, the number of smoothing operations undertaken by <a href="https://rdrr.io/pkg/Momocs/man/coo_smooth.html" class="external-link">coo_smooth</a> on the contour described by 'x'. See Details.</p></dd>
<dt>ml.meth</dt>
<dd><p>character, the midline detection method. One of 'ang' for bisection using <code><a href="free.ml.ang.html">free.ml.ang</a></code> or 'hull' for bisection using <code><a href="free.ml.ang.html">free.ml.hull</a></code>. Delaunay triangulation using <code><a href="free.ml.ang.html">free.ml.del</a></code> is not supported. See Details.</p></dd>
<dt>ml.smooth</dt>
<dd><p>numeric (0-1), the smoothing value for the midline. See Details.</p></dd>
<dt>red</dt>
<dd><p>numeric, between 0-1 the proportion of contour coordinates to sample. Will speed up fin position and midline estimations. If 'NULL', the full contour in <code>out</code> will be used See Details.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list with the following components:
<code>cont</code> a data table consisting of x,y coordinates of the body contour
<code>fin</code> a data table describing the contour of the fins consisting of the following:</p><ul><li><p>'side': fin side, 'a' or 'b'</p></li>
<li><p>'n': the position of fin coordinates where min(n) is closest to the head</p></li>
<li><p>x,y coordinates within the range of <code>fin.pos</code></p></li>
</ul><p><code>fin.pts</code> a data table describing fin position consisting of the following:</p><ul><li><p>'side': fin side, 'a' or 'b'</p></li>
<li><p>'n': The index matching that of the body contour coordinates</p></li>
<li><p>x,y coordinates of the fin tips, start, and end within the range of <code>fin.pos</code>.</p></li>
<li><p>'n': The index matching that of the body contour coordinates</p></li>
<li><p>'pos': description  of the coordinates' positions, 'start', 'end' or 'tip' or 'tip2'.</p></li>
</ul><p><code>comp</code> a data table describing the composite contour of the body minus the fins.</p><ul><li><p>'n': The index matching that of the body contour coordinates</p></li>
<li><p>x,y coordinates of the body except the range of x values within <code>fin.pos</code>. These values take on a straight line described by the prediction of <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> based on the start and end of the fin. See Details.</p></li>
</ul><p><code>midline</code> a data table describing the estimated midline, 'x', 'y', the smoothed x and y positions, respectively
<code>bl</code> the body length in pixels
<code>amp</code> a data table describing the estimated fin amplitudes based on each method of finding the fin tip. 'amp1', the amplitude of the fin positions based on the maximum euclidean distance from the fin base and 'amp2', the distance of the fin points (based on distance inflections) from the fin base.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>If <code>red</code> is specified, the contour <code>out</code> is sampled with <code><a href="https://rdrr.io/pkg/Momocs/man/coo_interpolate.html" class="external-link">coo_interpolate</a></code> from the <code>Momocs</code> package. The number of points sampled (n) equals <code>red</code> times the number of points in <code>out</code></p>
<p>To establish the contour positions that are within <code>fin.pos</code>, a midline is estimated using one of two methods specified by <code>ml.meth</code>, "ang" for <code><a href="free.ml.ang.html">free.ml.ang</a></code> or "hull" for  <code><a href="free.ml.ang.html">free.ml.hull</a></code>. Midline points are indexed by position along the body length by calculating the cumulative distance between midline coordinates in pixels. This midline distance is then used to estimate the position of the fin about the contour using the parameter <code>fin.pos</code>.</p>
<p>The positions of the tip of the fin appendages is estimated in two ways. The first is simply the point in each appendage that is farthest from the base of the fin. The base is estimated as a straight line between the contour coordinates that match <code>fin.pos</code>.  The second is a little more complicated and starts with calculation the distance between each fin contours coordinates and the midpoint of the fin base. <code>features</code> from the <code>features</code> package is then use to calculate an inflection in this distance and the point of this inflection is used to estimate the fin position. Amplitudes of each method are calculated based on the orthogonal euclidean distance from the fin bases.</p>
<p>In addition to fin amplitude and contour extraction, this function also produces a composite contour of the body minus the fin area described by <code>fin.pos</code>. Fin contours are replaced by a simple linear prediction constructed from the coordinates of the first and last values covered by <code>fin.pos</code>, that is, the fin bases. The result is a straight line between the start and end of each fin.</p>
<p>From this composite body contour, a midline prediction is made based on the mean position of contour coordinates from each side of the contour sharing a the same position along body using the <code>free.ml</code> functions.</p>
<p>#' For midline smoothing, <code>smooth_spline</code> from the <code>smoothr</code> package is used to interpolate points between a reduced number of vertices using piecewise cubic polynomials. The number of vertices is calculated based on the number of midline coordinates times the value of <code>ml.smooth</code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="kin.search.html">kin.simple</a></code>, <code><a href="kin.search.html">kin.search</a></code>, <code><a href="kin.search.html">kin.free</a></code>, <code><a href="https://rdrr.io/pkg/Momocs/man/coo_sample.html" class="external-link">coo_sample</a></code>, <code><a href="https://rdrr.io/pkg/Momocs/man/coo_smooth.html" class="external-link">coo_smooth</a></code>, <code>smooth_spline</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co">###plot pectoral-fin amplitudes of a swimming sunfish</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#download example avi video</span></span>
<span class="r-in"><span class="va">f</span> <span class="op">&lt;-</span> <span class="st">"https://github.com/ckenaley/exampledata/blob/master/sunfish_pect.avi?raw=true"</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span><span class="va">f</span>,<span class="st">"sunfish.avi"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#create directories</span></span>
<span class="r-in"> <span class="va">ti</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/images"</span><span class="op">)</span></span>
<span class="r-in"> <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">ti</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#extract images with ffmpeg operations and reduce them to 600 px wide with a filter</span></span>
<span class="r-in"><span class="va">filt.red</span> <span class="op">&lt;-</span> <span class="st">" -vf scale=600:-1 "</span> <span class="co">#filter</span></span>
<span class="r-in"><span class="fu">vid.to.images2</span><span class="op">(</span>vid.path<span class="op">=</span><span class="st">"sunfish.avi"</span>,filt <span class="op">=</span> <span class="va">filt.red</span>,out.dir<span class="op">=</span><span class="va">ti</span><span class="op">)</span> <span class="co">#extract</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#number of frames</span></span>
<span class="r-in"><span class="va">fr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">ti</span>,full.names<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="thr.check.html">thr.check</a></span><span class="op">(</span><span class="va">fr</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#extract contours and other data</span></span>
<span class="r-in"><span class="va">kin</span> <span class="op">&lt;-</span> <span class="fu"><a href="kin.search.html">kin.search</a></span><span class="op">(</span>image.dir <span class="op">=</span> <span class="va">ti</span>,thr<span class="op">=</span><span class="fl">0.9</span>,ant.per <span class="op">=</span> <span class="fl">0.25</span>,save<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#fin data by frame</span></span>
<span class="r-in"><span class="va">fin.pos</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>,<span class="fl">.55</span><span class="op">)</span></span>
<span class="r-in"><span class="va">fin.dat</span> <span class="op">&lt;-</span> <span class="fu">fin.kin</span><span class="op">(</span>kin<span class="op">=</span><span class="va">kin</span>,fin.pos <span class="op">=</span> <span class="va">fin.pos</span>,smooth.n<span class="op">=</span><span class="fl">1</span>,ml.smooth<span class="op">=</span><span class="fl">0.3</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>dat<span class="op">=</span><span class="va">fin.dat</span><span class="op">$</span><span class="va">amp</span>,<span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">frame</span>,y<span class="op">=</span><span class="va">amp2</span>,col<span class="op">=</span><span class="va">side</span><span class="op">)</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="fl">15</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## plot body and fin contours of a frame</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#plot body contour and fins</span></span>
<span class="r-in"><span class="va">fr</span> <span class="op">&lt;-</span> <span class="fl">8</span></span>
<span class="r-in"><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/qplot.html" class="external-link">qplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">fin.dat</span><span class="op">$</span><span class="va">cont</span><span class="op">[</span><span class="va">frame</span><span class="op">==</span><span class="va">fr</span><span class="op">]</span>,x<span class="op">=</span><span class="va">x</span>,y<span class="op">=</span><span class="va">y</span><span class="op">)</span></span>
<span class="r-in"><span class="va">p</span> <span class="op">&lt;-</span> <span class="va">p</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">fin.dat</span><span class="op">$</span><span class="va">fin</span><span class="op">[</span><span class="va">frame</span><span class="op">==</span><span class="va">fr</span><span class="op">]</span>,<span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span><span class="op">)</span>,col<span class="op">=</span><span class="st">"red"</span>,size<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span class="r-in"><span class="va">p</span> <span class="op">&lt;-</span> <span class="va">p</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">fin.dat</span><span class="op">$</span><span class="va">fin.pts</span><span class="op">[</span><span class="va">frame</span><span class="op">==</span><span class="va">fr</span><span class="op">]</span>,<span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span>,shape<span class="op">=</span><span class="va">pos</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">p</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/lims.html" class="external-link">xlim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="va">kin</span><span class="op">$</span><span class="va">dim</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/lims.html" class="external-link">ylim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="va">kin</span><span class="op">$</span><span class="va">dim</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#plot body contour minus fins and the body midline</span></span>
<span class="r-in"><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/qplot.html" class="external-link">qplot</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">fin.dat</span><span class="op">$</span><span class="va">comp</span><span class="op">[</span><span class="va">frame</span><span class="op">==</span><span class="va">fr</span><span class="op">]</span>,x<span class="op">=</span><span class="va">x</span>,y<span class="op">=</span><span class="va">y</span><span class="op">)</span></span>
<span class="r-in"><span class="va">p</span> <span class="op">&lt;-</span> <span class="va">p</span><span class="op">+</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">fin.dat</span><span class="op">$</span><span class="va">midline</span><span class="op">[</span><span class="va">frame</span><span class="op">==</span><span class="va">fr</span><span class="op">]</span>,<span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span><span class="op">)</span>,col<span class="op">=</span><span class="st">"red"</span>,size<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span class="r-in"><span class="va">p</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/lims.html" class="external-link">xlim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="va">kin</span><span class="op">$</span><span class="va">dim</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/lims.html" class="external-link">ylim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="va">kin</span><span class="op">$</span><span class="va">dim</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># now the whole sequence with gg.overlay()</span></span>
<span class="r-in"> <span class="fu"><a href="gg.overlay.html">gg.overlay</a></span><span class="op">(</span>dat<span class="op">=</span><span class="va">fin.dat</span>,</span>
<span class="r-in"> under<span class="op">=</span><span class="st">"cont"</span>,</span>
<span class="r-in"> over<span class="op">=</span><span class="st">"fin.pts"</span>,</span>
<span class="r-in"> size<span class="op">=</span><span class="fl">5</span>,</span>
<span class="r-in"> animate<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span class="r-in"> fps<span class="op">=</span><span class="fl">5</span>,</span>
<span class="r-in"> alph<span class="op">=</span><span class="fl">0.05</span><span class="op">)</span></span>
<span class="r-in"> </span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">ti</span>,recursive<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Christopher Kenaley.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

