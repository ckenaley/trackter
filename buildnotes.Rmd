---
output:
  github_document:
    html_preview: true
---

# Notes for build
  * use precompiled .Rmd for vignettes ([a la](https://ropensci.org/blog/2019/12/08/precompute-vignettes/)) because of build fails on win-builder.
    - knit tutorial with `knitr::knit("vignettes/tutorial.Rmd.orig", output = "vignettes/tutorial.Rmd")`
    - add *.Rmd.orig to Rbuildignore
    - update and reknit on new submission/commit/release
    -set knit to `fig.path=""`
    - manually move figures from trackter root to vignette with code below
    - add r code for users with `knitr::purl("vignettes/tutorial.Rmd.orig", output = "vignettes/tutorial.R")`

```{r, compile vignette, eval=FALSE}

knitr::knit("vignettes/tutorial.Rmd.orig", output = "vignettes/tutorial.Rmd")

knitr::purl("vignettes/tutorial.Rmd.orig", output = "vignettes/tutorial.R")
```

```{r, eval=FALSE}
f = list.files(full.names = TRUE,pattern = ".png")
f2 <- gsub("./","./vignettes/",f)
file.copy(f,f2)
sapply(f,unlink)
``` 
# Notes for testing/CI

  * follow these pointers for `pkgdown` site build with CI on Travis
  * check travis.yaml with https://config.travis-ci.com/explore
  * imagemagick requirements related to ubuntu/linux https://srvanderplas.netlify.app/post/2019-05-07-travis-tricks/
  * **Jul '21** migrate away from Travis to GH actions: https://deanattali.com/blog/migrating-travis-to-github/ 
  * for GH actions :  `usethis::use_github_action_check_standard()` 
  * then copy badges
  * delete `- {os: windows-latest, r: 'release'}` from yaml file under '.github\workflows' 
  * this last step assumes appveyor is running the Windows build with `ffmpeg` install
  * added `- {os: macOS-latest, r: 'devel'}` for macOS devel build
  * see also: https://www.rostrum.blog/2020/08/09/ghactions-pkgs/
  * for code coverage with gh action: `usethis::use_github_action("test-coverage")`
  * Now using tic: https://docs.ropensci.org/tic/articles/tic.html#initialization-setup
  
  
    
# Notes for gitting/site

  * `usethis::use_pkgdown()` for `pkgdown`
  * `pkgdown::build_articles` and `pkgdown::build_site`
  * see: https://www.datacamp.com/community/tutorials/cd-package-docs-pkgdown-travis
  * see: https://cran.r-project.org/web/packages/pkgdown/vignettes/pkgdown.html
  * abandoned deploy, now going with static, but often builds of site locally with push to git [a la](https://sahirbhatnagar.com/blog/2020/03/03/creating-a-website-for-your-r-package/)
    - `pkgdown::build_site()` for build
    - `use_travis_deploy()` broken with:
    
```
Error: `github_token()` was deprecated in usethis 2.0.0 and is now defunct.
Call `gh::gh_token()` to retrieve a GitHub personal access token
Call `gh_token_help()` if you need help getting or configuring your token
```
  
# Versioning

  * Follow: https://yihui.org/en/2013/06/r-package-versioning/




 